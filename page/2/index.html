<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> QIWIHUI</title><meta name="description" content="个人技术博客，设计 Python, Rust，数学和生活。"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/nella.css"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css" integrity="sha384-G0fIWCsCzJIMAVNQPfjH08cyYaUtMwjJwqiRKxxE/rx96Uroj1BtIQ6MLJuheaO9" crossorigin="anonymous"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
google_ad_client: "ca-pub-8935595858652656",
enable_page_level_ads: true
});
</script><link rel="search" type="application/opensearchdescription+xml" href="https://qiwihui.com/atom.xml" title="QIWIHUI"><meta property="og:site_name" content="QIWIHUI"><meta property="og:url" content="https://qiwihui.com/page/2/index.html"><meta property="og:title" content="QIWIHUI"><meta property="og:description" content="个人技术博客，设计 Python, Rust，数学和生活。"><script src="//code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script><meta name="generator" content="Hexo 4.2.1"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/images/avatar.jpg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/search/" target="_self" class="nav-list-link">SEARCH</a></li><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">HOME</a></li><li class="nav-list-item"><a href="/projects/" target="_self" class="nav-list-link">PROJECTS</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">TAGS</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li><li class="nav-list-item"><a href="/links/" target="_self" class="nav-list-link">LINKS</a></li><!--li.nav-list-item--><!--    a.nav-list-link(class="search" href=url_for("search") target="_self") SEARCH--></ul></header><main class="container"></main><ul class="home post-list"><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/qiwihui-blog-157/" class="post-title-link">CS251 - final 2021 - 问题 4</a></h2><div class="post-info">May 15, 2024<span class="post-tags"><i class="fa fa-tags" aria-hidden="true"></i><a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">#区块链</a></span></div><div class="post-content"><p><strong>问题4. [16 分]: Hashmasks 重入缺陷</strong></p>
<p>在第8课和第3节中，我们讨论了 solidity 重入缺陷。在这个问题中，我们将看一个有趣的现实世界的例子。考虑下面16384个NFT中使用的 solidity 代码片段。通过调用此NFT合约上的 <code>mintNFT()</code> 函数，用户一次最多可以铸造20个NFT。您可以假设所有内部变量都由构造函数正确初始化（未显示）。</p></div><a href="/qiwihui-blog-157/" class="read-more">... more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/qiwihui-blog-156/" class="post-title-link">CS251 - final 2021 - 问题 3</a></h2><div class="post-info">May 15, 2024<span class="post-tags"><i class="fa fa-tags" aria-hidden="true"></i><a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">#区块链</a></span></div><div class="post-content"><p><strong><em>问题3（20分）: Automated market maker (AMM).</em></strong></p>
<p><em>你作为Uniswap V2的流动性提供者，为DAI/ETH池贡献5个ETH及5000个DAI。假设1个DAI值1美元，那么你的出资总额为1万美元。</em></p>
<p><em>A)    几个月后，1个ETH的价格上升到2000 DAI。在DAI/ETH池适应这个新的汇率稳定下来以后，您决定撤回作为流动性提供者的全部份额。假设系统不收费(∅= 1)，你会收到多少ETH和DAI ?</em></p></div><a href="/qiwihui-blog-156/" class="read-more">... more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/qiwihui-blog-155/" class="post-title-link">如何创建一个代币承销商 dApp</a></h2><div class="post-info">May 15, 2024<span class="post-tags"><i class="fa fa-tags" aria-hidden="true"></i><a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">#区块链</a></span></div><div class="post-content"><p>这篇教程我们来完成 scaffold-eth 项目的第二个挑战：<a href="https://speedrunethereum.com/challenge/token-vendor" target="_blank" rel="noopener">代币承销商</a>，我们可以在网站 <a href="http://speedrunethereum.com/" target="_blank" rel="noopener">speedrunethereum.com</a> 中查看或者直接查看对应的 Github 连接：<a href="https://github.com/scaffold-eth/scaffold-eth-typescript-challenges" target="_blank" rel="noopener">scaffold-eth/scaffold-eth-typescript-challenges</a>。</p>
<p>这个挑战的目的是创建一个自己的ERC20代币，并编写承销商合约，实现用户对代币的购买和卖出。下面，我们一步步完成这个过程。</p></div><a href="/qiwihui-blog-155/" class="read-more">... more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/qiwihui-blog-154/" class="post-title-link">解释 Crypto Coven 合约的两个 bug</a></h2><div class="post-info">May 15, 2024<span class="post-tags"><i class="fa fa-tags" aria-hidden="true"></i><a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">#区块链</a></span></div><div class="post-content"><p>Crypto Coven 合约作者在他的文章 <a href="https://cryptocoven.mirror.xyz/0eZ0tjudMU0ByeXLlRtPzDqxGzMMZw6ldzf-HfYETW0" target="_blank" rel="noopener">Crypto Coven Contract Bugs: An Arcanist’s Addendum</a> 中描述了合约中的两个 bug，这篇文章我们来看看这两个bug。这两个 bug 并不会影响女巫 NFT 的所有权。</p></div><a href="/qiwihui-blog-154/" class="read-more">... more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/qiwihui-blog-153/" class="post-title-link">SVG NFT 全面实践 ── scaffold-eth loogies-svg-nft 项目完整指南</a></h2><div class="post-info">May 15, 2024<span class="post-tags"><i class="fa fa-tags" aria-hidden="true"></i><a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">#区块链</a></span></div><div class="post-content"><p>注：这篇文章是我投稿于“李大狗Leeduckgo”公众号的文章，原文地址：<a href="https://mp.weixin.qq.com/s/WvTFk3E6FjfHtXfp2uHkrw" target="_blank" rel="noopener">SVG NFT 全面实践 | Web3.0 dApp 开发（六）</a>。</p>
<hr>
<p>loogies-svg-nft 是 scaffold-eth 提供的一个简单的 NFT 铸造和展示的项目，在本教程中，我们将带领大家一步步分析和实现这个项目。</p>
<p>由于项目的 <code>loogies-svg-nft</code> 分支与 <code>master</code> 分支在组件库和主页上有一些变化，故先将 <code>master</code> 分支代码与 <code>loogies-svg-nft</code> 分支进行了合并，解决冲突，得到一份基新组件库的全新的代码。可以参考项目地址： <a href="https://github.com/qiwihui/scaffold-eth.git" target="_blank" rel="noopener">https://github.com/qiwihui/scaffold-eth.git</a> 的 <code>loogies-svg-nft</code> 分支。本文以下内容将基于这些代码进行部署和分析。</p></div><a href="/qiwihui-blog-153/" class="read-more">... more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/qiwihui-blog-152/" class="post-title-link">Crypto Coven 加密女巫 NFT 合约解读</a></h2><div class="post-info">May 15, 2024<span class="post-tags"><i class="fa fa-tags" aria-hidden="true"></i><a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">#区块链</a></span></div><div class="post-content"><p>本文主要是对 <a href="https://twitter.com/mannynotfound" target="_blank" rel="noopener">@mannynotfound</a> 的推文 <a href="https://twitter.com/mannynotfound/status/1470535464922845187" target="_blank" rel="noopener">https://twitter.com/mannynotfound/status/1470535464922845187</a> 的整理和补充。</p>
<p>加密女巫的合约代码堪称艺术品。代码出自工程师 Matthew Di Ferrante(<a href="https://twitter.com/matthewdif" target="_blank" rel="noopener">@matthewdif</a>)，涉及 gas 优化，修改器以及 Opensea 预授权等诸多优化措施，对于学习 NFT 合约是个很好的参考材料。</p>
<h3>基本情况</h3>
<p>名称；Crypto Coven</p>
<p>符号： WITCH</p>
<p>合约地址：0x5180db8f5c931aae63c74266b211f580155ecac8</p>
<p>合约代码地址：<a href="https://etherscan.io/address/0x5180db8f5c931aae63c74266b211f580155ecac8#code" target="_blank" rel="noopener">https://etherscan.io/address/0x5180db8f5c931aae63c74266b211f580155ecac8#code</a></p>
<p>Solidity版本： <code>^0.8.0</code></p></div><a href="/qiwihui-blog-152/" class="read-more">... more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/qiwihui-blog-151/" class="post-title-link">使用 Merkle 树做 NFT 白名单验证</a></h2><div class="post-info">May 15, 2024<span class="post-tags"><i class="fa fa-tags" aria-hidden="true"></i><a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">#区块链</a></span></div><div class="post-content"><p>Merkle 树现在普遍用来做线上数据验证。这篇文章主要解释和实现使用 Merkle 树做 NFT 白名单验证。</p>
<p>使用 Merkle 树做 NFT 白名单验证，简单来说就是将所有的白名单钱包地址做为 Merkle 树的叶节点生成一棵 Merkle 树，在部署的NFT 合约中只存储 Merkle 树的 root hash，这样避免了在合约中存储所有白名单地址带来的高额 gas 费用。在 mint 时，前端生成钱包地址的 Merkle proof，调用合约进行验证即可。</p></div><a href="/qiwihui-blog-151/" class="read-more">... more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/qiwihui-blog-150/" class="post-title-link">CPython Internals 笔记 ── Python 语言和语法</a></h2><div class="post-info">May 15, 2024<span class="post-tags"><i class="fa fa-tags" aria-hidden="true"></i><a href="/tags/Python/">#Python</a><a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">#读书笔记</a><a href="/tags/CPythonInternals/">#CPythonInternals</a></span></div><div class="post-content"><p>编译器的目的是将一种语言转换成另一种语言。把编译器想象成一个翻译器。
比如你会雇一个翻译来听你说英语，然后翻译成日语。</p>
<p>为此，翻译人员必须了解源语言和目标语言的语法结构。</p>
<p>有些编译器会编译成低级机器码，可以直接在系统上执行。其他编译器会编译成一种中间语言，由虚拟机执行。</p>
<p>选择编译器时的一个考虑因素是系统可移植性要求。
<a href="https://en.wikipedia.org/wiki/Java_bytecode" target="_blank" rel="noopener">Java</a>
和 <a href="https://en.wikipedia.org/wiki/Common_Language_Runtime" target="_blank" rel="noopener">.NET CLR</a>
将编译成一种中间语言，以便编译后的代码可以跨多个系统架构移植。
C、Go、C++ 和 Pascal 将编译成可执行的二进制文件。此二进制文件是为编译它的平台构建的。</p>
<p>Python 应用程序通常作为源代码分发。Python 解释器的作用是将Python源代码进行转换并一步执行。
CPython 运行时在第一次运行时会编译你的代码。这一步对普通用户是不可见的。</p>
<p>Python 代码不会被编译成机器码；它被编译成一种称为 <strong>字节码</strong> 的低级中间语言。
此字节码存储在 <code>.pyc</code> 文件中并缓存以供执行。
如果在不更改源代码的情况下两次运行同一个 Python 应用程序，则第二次执行速度会更快。
这是因为它加载编译后的字节码而不是每次都重新编译。</p></div><a href="/qiwihui-blog-150/" class="read-more">... more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/qiwihui-blog-149/" class="post-title-link">CPython Internals 笔记 ── 编译 Python</a></h2><div class="post-info">May 15, 2024<span class="post-tags"><i class="fa fa-tags" aria-hidden="true"></i><a href="/tags/Python/">#Python</a><a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">#读书笔记</a><a href="/tags/CPythonInternals/">#CPythonInternals</a></span></div><div class="post-content"><p>现在你已经下载了 CPython 开发环境并对其进行了配置，你可以将 CPython 源代码编译成一个可执行的解释器。</p>
<p>与 Python 文件不同，C 源代码每次更改时都必须重新编译。</p>
<p>在前一章中，我们已经设置开发环境，并设置了运行“Build”阶段的选项，该选项将重新编译 CPython。
在构建步骤工作之前，你需要一个 C 编译器和一些构建工具。
使用的工具取决于你使用的操作系统。</p></div><a href="/qiwihui-blog-149/" class="read-more">... more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/qiwihui-blog-148/" class="post-title-link">CPython Internals 笔记 ── 介绍、开发环境设置</a></h2><div class="post-info">May 15, 2024<span class="post-tags"><i class="fa fa-tags" aria-hidden="true"></i><a href="/tags/Python/">#Python</a><a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">#读书笔记</a><a href="/tags/CPythonInternals/">#CPythonInternals</a></span></div><div class="post-content"><h1>介绍</h1>
<p>这本书将涵盖 CPython 内部实现的主要概念，并学习如何：</p>
<ul>
<li>阅读和浏览源代码</li>
<li>从源代码编译 CPython</li>
<li>更改 Python 语法并将其编译到你的 CPython 版本中</li>
<li>导航并理解诸如列表、字典和生成器的概念的内部工作原理</li>
<li>掌握 CPython 的内存管理能力</li>
<li>使用并行和并发扩展你的 Python 代码</li>
<li>使用新功能修改核心类型</li>
<li>运行测试套件</li>
<li>分析和基准测试 Python 代码和运行时的性能</li>
<li>像专家一样调试 C 和 Python 代码</li>
<li>修改或升级 CPython 库的组件并将它们贡献给未来的版本</li>
</ul></div><a href="/qiwihui-blog-148/" class="read-more">... more</a></article></li></ul><footer><div class="paginator"><a href="/" class="prev">PREV</a><a href="/page/3/" class="next">NEXT</a></div><!-- block copyright--></footer></div><script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true,
        processEnvironments: true,
        skipTags: ["script","noscript","style","textarea","code","pre"]
    }
});
</script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-46660488-3",'auto');ga('send','pageview');</script><link rel="stylesheet" href="//cdn.datatables.net/1.10.7/css/jquery.dataTables.min.css" media="screen" type="text/css"><script src="//cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js"></script><script>$(function(){$('.datatable').dataTable( {"order": [[ 0, "desc" ]],"iDisplayLength": -1,"lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]]} );});</script></body></html>