<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Sui 公链研究整理 · QIWIHUI</title><meta name="description" content="Sui 公链研究整理 - qiwihui"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/nella.css"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css" integrity="sha384-G0fIWCsCzJIMAVNQPfjH08cyYaUtMwjJwqiRKxxE/rx96Uroj1BtIQ6MLJuheaO9" crossorigin="anonymous"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
google_ad_client: "ca-pub-8935595858652656",
enable_page_level_ads: true
});
</script><link rel="search" type="application/opensearchdescription+xml" href="https://qiwihui.com/atom.xml" title="QIWIHUI"><meta property="og:site_name" content="QIWIHUI"><meta property="og:url" content="https://qiwihui.com/qiwihui-blog-162/index.html"><meta property="og:title" content="Sui 公链研究整理"><meta property="og:description" content="Sui 公链研究整理"><meta property="og:type" content="article"><script src="//code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script><meta name="generator" content="Hexo 4.2.1"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/images/avatar.jpg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/search/" target="_self" class="nav-list-link">SEARCH</a></li><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">HOME</a></li><li class="nav-list-item"><a href="/projects/" target="_self" class="nav-list-link">PROJECTS</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">TAGS</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li><li class="nav-list-item"><a href="/links/" target="_self" class="nav-list-link">LINKS</a></li><!--li.nav-list-item--><!--    a.nav-list-link(class="search" href=url_for("search") target="_self") SEARCH--></ul></header><main class="container"></main><div class="post"><article class="post-block"><h1 class="post-title">Sui 公链研究整理</h1><div class="post-info">May 15, 2024<span class="categories"><i class="fa fa-bookmark" aria-hidden="true"></i></span><span>19 min. read</span></div><div class="post-content"><p>官网：<a href="https://sui.io/" target="_blank" rel="noopener">https://sui.io/</a></p>
<p>白皮书：<a href="https://github.com/MystenLabs/sui/blob/main/doc/paper/sui.pdf" target="_blank" rel="noopener">https://github.com/MystenLabs/sui/blob/main/doc/paper/sui.pdf</a></p>
<a id="more"></a>
<h2><span id="ji-zhu">技术</span></h2>
<p>水平可扩展性，高吞吐，低延迟。</p>
<p>技术特征：</p>
<ol>
<li>变体 Move 语言
<ol>
<li>安全特性（内存安全，Move Prover）</li>
<li>编程范式：虽然大多数区块链的存储都以帐户为中心，但 Sui 的存储是围绕对象设计的。每个对象由一个地址所拥有，默认情况下可变，也可设为不可变或在多个地址之间共享。Sui 的 Move 智能合约可以接收这些对象作为输入，对其进行操作，并将对象作为输出返回。这是一种完全不同于 Solidity 或 Rust 的智能合约编程范式，更具表现力，对于动态NFT和加密游戏的数字对象表达更简单。</li>
<li>改善网络性能并简化开发人员体验</li>
<li>相较于Solidity，较少经历项目验证，缺少安全实践。</li>
</ol>
</li>
<li>交易并行化
<ol>
<li>对于链上的大多数交易都不会与其他交易竞争相同的资源(例如对同一个NFT发起两笔交易)，按目前公链的设计（例如ETH），需要对一个总的排序交易列表来进行全节点的共识确认，因此造成了大量的计算浪费。</li>
<li>Sui不要求全序，只要满足因果关系的交易顺序执行即可，没有因果关系的交易可以被Sui的验证器以任意顺序执行。</li>
</ol>
</li>
<li>可扩展性
<ol>
<li>因为不要求交易满足全序，只要求交易满足因果顺序。</li>
<li>使用 Narwhal 共识机制来全排序包含共享对象的交易</li>
<li>水平扩展，多机器分片，可以通过给验证节点增加设备来提升吞吐</li>
</ol>
</li>
<li>共识机制
<ul>
<li>拜占庭式一致广播，用于独立的交易</li>
<li>BFT 共识（+基于 DAG 的 mempool），用于有依赖关系的交易（共享对象）</li>
<li>共识算法专注于尽量减少验证节点之间处理交易所需的通信。</li>
</ul>
</li>
</ol>
<h2><span id="token-jing-ji-xue">Token 经济学</span></h2>
<h3><span id="gai-kuang">概况</span></h3>
<p>代币经济白皮书：<a href="https://github.com/MystenLabs/sui/blob/main/doc/paper/tokenomics.pdf" target="_blank" rel="noopener">The Sui Smart Contracts Platform: Economics and Incentives</a></p>
<p>代币：SUI</p>
<p>总供应量： 100亿，分配给创始团队、投资者、公售、Sui 基金会和未来的释放。</p>
<p>代币作用：</p>
<ul>
<li>质押/保护网络</li>
<li>交易费</li>
<li>治理</li>
<li>账户单位/交易中介</li>
</ul>
<p>角色：</p>
<ul>
<li>用户：使用 Sui 平台进行交易，以创建，修改和转移数字资产或与基于智能合约，互操作性，可组合性的复杂应用进行交互；</li>
<li>SUI代币持有者：可选择将其代币委托给验证者并参与权益证明机制（POS）。SUI 所有者也拥有参与 Sui 治理的权利</li>
<li>验证者：进行 Sui 公链上的事务处理和执行</li>
</ul>
<p>五个核心组件：</p>
<ul>
<li>SUI 代币是 Sui 平台的原生资产。</li>
<li>所有网络操作都收取 Gas 费，用于奖励权益证明机制的参与者，防止垃圾信息和拒绝服务攻击。</li>
<li>Sui 的存储基金用于跨时间转移权益奖励，并补偿未来验证者先前存储的链上数据的存储成本。</li>
<li>权益证明机制 PoS 用于选择、激励和奖励 Sui 平台操作者（即验证者和 SUI 委托人）的诚实行为。</li>
<li>链上投票用于治理和协议升级。</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/3297411/181870355-c7269c0d-7969-4ea9-a3c3-9610c2238a63.png" alt="sui-token-economics"></p>
<h3><span id="gas-ding-jie-mo-xing">Gas定价模型</span></h3>
<p>为用户提供<strong>可预测</strong>的<strong>低的</strong>交易费用、激励验证者优化其交易处理操作以及防止拒绝服务攻击。</p>
<p>Gas 费用包含两个部分：计算执行费用和存储费用，并为两部分费用分别计价。</p>
<p>计算价格定价机制：</p>
<ul>
<li>Sui 以纪元为单位运行，每个纪元（24 小时）验证节点集都会改变。新纪元的验证节点会就整个纪元的参考 Gas 费进行投票。该协议会提供一些激励措施，鼓励验证节点在整个纪元将交易费用保持在接近参考价格的水平。具体过程为：
<ol>
<li>在每个纪元开始时，需要每个验证者提交一个 gas 报价（即每个验证者愿意处理交易的最低gas价格)，Sui将会把总gas报价列表中2/3位置处的价格设置为这个纪元的参考gas价格，例如总共有 100 个验证者者提供了 gas 报价，将所有的 gas 报价进行低到高排序，其中第 67 位验证者提供的 gas 报价即为本纪元的参考 gas 价格</li>
<li>在用户提交交易时，可按参考 gas 价格进行 gas 价格设置，但由于每个用户习惯不一致和链上网络的波动情况，因此最终实际的 gas 价格会与参考 gas 价格有一点的出入。</li>
<li>在每个纪元结束时，会根据每个验证者执行的实际 gas 价格情况进行奖励的分配，在纪元开始时提交低价报价（即低于参考价格）或处理实际 gas 价格高于其 gas 报价交易的验证者会获得更高的奖励。相反，在纪元开始时提交高价报价（即高于参考价格）或处理实际 gas 价格低于其 gas 报价的验证者将受到奖励减少的惩罚。</li>
</ol>
</li>
<li>通过这套机制，一是鼓励验证者降低其 gas 价格的报价，二是让用户有一个参考价格供其参考，保证用户设置接近参考价格的 gas 的交易能够得到及时的处理。</li>
</ul>
<p>存储价格：</p>
<ul>
<li>通过治理提案设置，并不经常更新。目的是通过将这些费用存入存储基金，然后将这些费用重新分配给未来的验证者，确保 Sui 用户为其使用链上数据存储付费。 与计算 gas 价格相比，存储价格是固定的，并且对于一个纪元内和跨纪元的所有交易都是通用的，直到存储价格更新。</li>
</ul>
<p>网络堵塞期间 Gas 费如何保持在低位：因为网络的吞吐量与更多的参与者成线性关系，验证节点可以根据网络需求的增加按比例增加更多的参与者，以此使 Gas 价格接近参考价格。</p>
<p>存储基金：</p>
<ul>
<li>解决状态通胀（state bloat）问题</li>
<li>Sui 的一个关键特性是它能够处理任意数量的链上数据，但却需要足够多的存储资源来进行支持。因此用户在进行每笔交易时，在当下即支付了一笔存储费用到存储基金，存储基金将会使用这笔资金来奖励未来的验证者，因为未来的验证者也为当下用户数据的存储付出了成本（即验证者需要存储全账本）。当链上存储要求很高时，验证者会获得大量额外奖励以补偿其成本。当存储要求较低时，反之亦然。</li>
<li>从长远来看，随着技术改进导致存储成本下降和 SUI 代币价格的变化，治理提案将更新存储 gas 价格以反映其新的目标价格。</li>
<li>Sui 的存储模型包括一个“删除选项”，用户在删除之前存储的链上数据（例如 NFT 的元数据）时，可以通过该选项获得存储费回扣（即从之前支付的存储 gas 中返回一笔资金，因为自己的数据无需再进行存储）。</li>
</ul>
<h3><span id="pos-wei-tuo-mo-xing">PoS 委托模型</span></h3>
<p>SUI 持有者可以将自己的 SUI 委托给给验证者进行质押，在每个纪元结束时可获取对应份额的奖励。</p>
<p>验证者在总质押奖励中的份额是与质押数量相关的，因为它决定了每个验证者在处理交易中的投票权份额。每笔Sui的交易只需要2/3的验证者按权益份额进行处理，因此拥有质押数量越多的验证者将拥有更多的份额，从而处理更多的交易，获取到更多的奖励。同时在计算总奖励时，Sui 也会对存储基金进行分配，因此验证者就会相对于 SUI 委托人获得更多的质押奖励。</p>
<p>同时在每个纪元开始前，SUI 持有者可自由地选择验证者进行 SUI 的质押，因此对于处理速度快的验证者将处理更多的交易，获取到更多的执行 gas 奖励，持有者也更愿意选择这种验证者进行质押，从而提升了整个 Sui 网络验证者的质量。</p>
<h2><span id="tuan-dui-qing-kuang">团队情况</span></h2>
<h3><span id="gai-kuang">概况</span></h3>
<ul>
<li>开发团队：Mysten Labs</li>
<li>创始人包括 <a href="https://twitter.com/EvanWeb3" target="_blank" rel="noopener">Evan Cheng</a>、<a href="https://twitter.com/EmanAbio" target="_blank" rel="noopener">Adeniyi Abiodun</a>、<a href="https://twitter.com/b1ackd0g" target="_blank" rel="noopener">Sam Blackshear</a>、<a href="https://twitter.com/GDanezis" target="_blank" rel="noopener">George Danezis</a>、<a href="https://twitter.com/kostascrypto" target="_blank" rel="noopener">Kostas Kryptos</a>，均在 Meta 参与过 Novi 和 Diem 项目</li>
</ul>
<h3><span id="rong-zi">融资</span></h3>
<ul>
<li>Mysten Labs 于 2021 年 12 月宣布完成 3600 万美元 A 轮融资，该轮融资由 a16z 领投，Coinbase Ventures、NFX、Slow Ventures、Scribble Ventures、Samsung NEXT、Lux Capital 等参投。</li>
<li>正在寻求以 20 亿美元估值筹集至少 2 亿美元 B 轮融资，本轮融资由 FTX Ventures 领投，目前项目方已在该轮融资中获得 1.4 亿美元资金支持。</li>
</ul>
<h2><span id="sheng-tai-jian-she">生态建设</span></h2>
<ol>
<li>团队构想的公链 4 个关键应用：游戏、DeFi、商业和社交。所有 4 个应用都将充分利用 Sui 的高吞吐量和低延迟来提供最佳用户体验。游戏和社交应用在 Sui 上构建还具有独特的优势。游戏可以利用 Move 针对数字形象的安全性和表现力。社交媒体应用可以利用 Sui 的数据存储经济学将所有数据直接存储在链上。</li>
<li>Sui Monstars，游戏。</li>
</ol>
<h2><span id="feng-xian-dian">风险点</span></h2>
<ol>
<li>公链生态的构建是一个漫长的过程。</li>
<li>掌握全网质押总量的2/3即可控制整个网络,若是有验证者和Web2大公司一样发起质押补贴，例如将本属于自己的执行 gas 和存储 gas 也发放给将 SUI 质押在自己这里的 SUI 持有者，则会吸引大量的 SUI 持有者将自己的 SUI 质押在这样的验证者节点上，从而让这个验证者掌握了整个网络的控制权，从而具备了作恶的能力。一旦开始作恶，则可能使整个网络的其他参与者的利益受损。</li>
<li>Move 语言做为新兴合约语言，在学习成本，安全/审计，开发工具完备成都，成熟的合约组件等，都与Solidity有一定的距离。</li>
</ol>
<h2><span id="can-kao">参考</span></h2>
<ol>
<li><a href="https://www.theblockbeats.info/news/31206" target="_blank" rel="noopener">新公链Sui：估值20亿美元的前Facebook团队打造的Layer1</a></li>
<li><a href="https://twitter.com/linda_guagua/status/1549031224555237378?s=20&amp;t=d6yTDgKMK6KJNaR2qkoKVA" target="_blank" rel="noopener">Linda_郑郑的thread</a></li>
<li><a href="https://www.youtube.com/watch?v=bTiyATYCU20" target="_blank" rel="noopener">Sui—前facebook团队和顶级机构创建的新一代区块链公链【Vic TALK 第263期】</a></li>
<li><a href="https://cryptohot.substack.com/p/-sui-" target="_blank" rel="noopener">https://cryptohot.substack.com/p/-sui-</a></li>
<li><a href="https://twitter.com/mindaoyang/status/1552384026383904768" target="_blank" rel="noopener">https://twitter.com/mindaoyang/status/1552384026383904768</a></li>
<li><a href="https://twitter.com/tracecrypto1/status/1544332560389607424" target="_blank" rel="noopener">https://twitter.com/tracecrypto1/status/1544332560389607424</a></li>
<li><a href="https://twitter.com/cryptoalvatar/status/1551878534926401537" target="_blank" rel="noopener">https://twitter.com/cryptoalvatar/status/1551878534926401537</a></li>
<li><a href="https://twitter.com/state_xyz/status/1551878856151142401" target="_blank" rel="noopener">https://twitter.com/state_xyz/status/1551878856151142401</a></li>
</ol>
<h3><span id="comments">Comments</span></h3>
</div><p class="post-tags"><i class="fa fa-tags" aria-hidden="true"></i><a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">#区块链</a><a href="/tags/%E6%8A%95%E7%A0%94/">#投研</a></p></article></div><div class="post-copyright"><blockquote><p>版权声明：本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener">署名-相同方式共享 | CC BY-SA 4.0 </a>许可协议。</p></blockquote></div><footer><div class="paginator"><a href="/qiwihui-blog-149/" class="prev">PREV</a><a href="/qiwihui-blog-158/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'blog-qiwihui-com';
var disqus_identifier = 'qiwihui-blog-162/';
var disqus_title = 'Sui 公链研究整理';
var disqus_url = 'https://qiwihui.com/qiwihui-blog-162/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//blog-qiwihui-com.disqus.com/count.js" async></script><!-- block copyright--></footer></div><script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true,
        processEnvironments: true,
        skipTags: ["script","noscript","style","textarea","code","pre"]
    }
});
</script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-46660488-3",'auto');ga('send','pageview');</script><link rel="stylesheet" href="//cdn.datatables.net/1.10.7/css/jquery.dataTables.min.css" media="screen" type="text/css"><script src="//cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js"></script><script>$(function(){$('.datatable').dataTable( {"order": [[ 0, "desc" ]],"iDisplayLength": -1,"lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]]} );});</script></body></html>